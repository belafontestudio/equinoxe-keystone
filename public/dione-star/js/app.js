function createLanding(){$("#onepage").fullpage({menu:"#anchor-menu",anchors:["home","yacht","outside","bimini","fly","stern"],resize:!1,autoScrolling:!0,scrollOverflow:!1,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",afterLoad:function(e,n){var o=$("div#landing-menu div.center");o.hasClass("show")||o.addClass("show"),o.hasClass("fast-hide")&&o.removeClass("fast-hide")},afterRender:function(){console.log("afterRender"),$(".fp-section").height("auto"),$(".fp-section").css("minHeight",$(window).height()+"px"),$(".fp-tableCell").height($(window).height()),$(".fp-tableCell").css("padding","100px 0")},onLeave:function(e,n,o){var a=$("div#landing-menu div.center");a.addClass("fast-hide"),a.hasClass("show")&&a.removeClass("show"),"down"==o&&$("#section"+n).find(".slide").addClass("loadImage"),"up"==o&&($("#section"+n).find(".slide").hasClass("loadImage")||$("#section"+n).find(".slide").addClass("loadImage"))}})}function checkPage(e){hidePrivateSection();var n=window.location.pathname.split("/");"/"==window.location.pathname?(createLanding(),homeSlides()):"inside.html"==n[2]?($("a#m1").addClass("active"),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["inside","dining","living","maindeck","owner","twincab","guest","office","bathrooms","inside-crew"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",onLeave:function(e,n,o){"down"==o&&$(".section"+n).find(".slide").addClass("loadImage"),"up"==o&&($(".section"+n).find(".slide").hasClass("loadImage")||$(".section"+n).find(".slide").addClass("loadImage"))}})):"life_on_board.html"==n[2]?($("a#m1").addClass("active"),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["lifeonboard","ondeck","cabins","mingle","tendersandtoys"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",onLeave:function(e,n,o){"down"==o&&$(".section"+n).find(".slide").addClass("loadImage"),"up"==o&&($(".section"+n).find(".slide").hasClass("loadImage")||$(".section"+n).find(".slide").addClass("loadImage"))}})):"logbook.html"==n[2]?($("a#m1").addClass("active"),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["logbook","comfortandsafety","standards","homefromhome","cruising","crew"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",onLeave:function(e,n,o){"down"==o&&$(".section"+n).find(".slide").addClass("loadImage"),"up"==o&&($(".section"+n).find(".slide").hasClass("loadImage")||$(".section"+n).find(".slide").addClass("loadImage"))}})):"events.html"==n[2]?($("a#m1").addClass("active"),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["events","formal"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",onLeave:function(e,n,o){"down"==o&&$(".section"+n).find(".slide").addClass("loadImage")}})):"specs.html"==n[2]?($("a#m1").addClass("active"),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["specs","range","ample"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom",onLeave:function(e,n,o){"down"==o&&$(".section"+n).find(".slide").addClass("loadImage")}})):"login.html"==n[2]?($("a#m1").addClass("active"),$("div#hslide1").fadeIn(1e3),$("#onepage").fullpage({menu:"#anchor-menu",anchors:["login"],resize:!1,autoScrolling:!0,scrollOverflow:!0,scrollBar:!1,responsive:480,loopTop:!1,loopHorizontal:!1,slidesNavigation:!0,slidesNavPosition:"bottom"})):($("html").css("overflow","visible"),$("body").css("overflow","visible"))}function homeSlides(){$("div#hslide1").fadeIn(1e3),$("p#statement1").fadeIn(1e3),$("a#m1").addClass("active")}function checkUrl(e){return console.log(e),""!=e?!0:!1}function getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=n.exec(location.search);return null==o?"":decodeURIComponent(o[1].replace(/\+/g," "))}function currentUser(){var e=Parse.User.current();console.log(JSON.stringify(e))}function isLoggedIn(){var e=Parse.User.current();return e?!0:!1}function checkUser(e,n){var o=Parse.User.current();o?window.location=n:window.location=e+"?url="+encodeURIComponent(n)}function logout(){Parse.User.logOut(),console.log("logout")}function login(e,n){Parse.User.logIn(e,n,{success:function(e){var n=getParameterByName("url");currentUser(),checkedUrl=checkUrl(n),checkedUrl?window.location=n:window.location="/",$("#success").delay(500).fadeIn(),$("#error").fadeOut()},error:function(e,n){$("#error").delay(500).fadeIn(),$("#success").fadeOut()}})}function signup(e,n,o,a){var i=new Parse.User;i.set("username",o),i.set("name_lastname",e),i.set("password",a),i.set("company",n),i.set("email",o),i.signUp(null,{success:function(e){$("#success").fadeIn(),window.location=soluzioniUrl},error:function(e,n){$("#error").text("Error: "+n.code+" "+n.message).fadeIn()}})}function checkPrivatePage(){if(console.log(window.location.pathname),"/pages/inside.html"==window.location.pathname){var e=Parse.User.current();e||(window.location=loginUrl+"?url="+encodeURIComponent(pathname))}}function activateButtons(){$("a.prevent").removeClass("prevent")}function preventPrivateSection(){$("a.prevent").click(function(e){e.preventDefault(),e.stopPropagation();var n=$(this).attr("href");checkUser(loginUrl,n)})}function logoutButton(){$("li.logout a").click(function(e){e.preventDefault(),e.stopPropagation(),console.log("logout button clicked"),logout(),location.reload()})}function hidePrivateSection(){var e=isLoggedIn();e?(activateButtons(),$("li.logout a").show(),$("li.login a").hide()):($("li.logout a").hide(),$("li.login a").show(),$(".slide.alone").each(function(){var e=$(this).html(),n=$(this).attr("id");$(this).parent().attr("id",n).html(e),$(this).remove()}),$(".slide.private").each(function(){$(this).remove()}))}function cleanPins(){$("#sundeck").find(".dot").remove(),$("#maindeck").find(".dot").remove(),$("#lowerdeck").find(".dot").remove()}function getPlanPins(){$(document).on("click","a.see-plan",function(e){e.stopPropagation();var n=$(this).attr("data-deck"),o=$(this).attr("data-pin");displayPins(o),displayDeck(n)})}function displayPins(e){var n=JSON.parse("["+e+"]");for(var o in n){var a=n[o].toString(),i=a.substring(0,1);switch(console.log(a,i,pinsPositions[a].x,pinsPositions[a].y),parseInt(i)){case 1:$("#sundeck").prepend('<div class="dot" style="top:'+pinsPositions[a].x+"%; left:"+pinsPositions[a].y+'%"></div>');break;case 2:$("#maindeck").prepend('<div class="dot" style="top:'+pinsPositions[a].x+"%; left:"+pinsPositions[a].y+'%"></div>');break;case 3:$("#lowerdeck").prepend('<div class="dot" style="top:'+pinsPositions[a].x+"%; left:"+pinsPositions[a].y+'%"></div>')}}}function displayDeck(e){switch(parseInt(e)){case 1:$("#sundeck").fadeIn(),$("#maindeck, #lowerdeck").fadeOut(),$("#btn_sun").addClass("active"),$("#btn_main, #btn_low").removeClass("active");break;case 2:$("#maindeck").fadeIn(),$("#sundeck, #lowerdeck").fadeOut(),$("#btn_main").addClass("active"),$("#btn_sun, #btn_low").removeClass("active");break;case 3:$("#lowerdeck").fadeIn(),$("#sundeck, #maindeck").fadeOut(),$("#btn_low").addClass("active"),$("#btn_sun, #btn_main").removeClass("active");break;default:$("#sundeck").fadeIn(),$("#maindeck, #lowerdeck").fadeOut(),$("#btn_sun").addClass("active"),$("#btn_main, #btn_low").removeClass("active")}}function planSetup(){$("#btn_sun").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#sundeck").fadeIn(),$("#maindeck, #lowerdeck").fadeOut(),$("#btn_sun").addClass("active"),$("#btn_main, #btn_low").removeClass("active")}),$("#btn_main").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#maindeck").fadeIn(),$("#sundeck, #lowerdeck").fadeOut(),$("#btn_main").addClass("active"),$("#btn_sun, #btn_low").removeClass("active")}),$("#btn_low").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#lowerdeck").fadeIn(),$("#sundeck, #maindeck").fadeOut(),$("#btn_low").addClass("active"),e.stopPropagation(),$("#btn_sun, #btn_main").removeClass("active")})}!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var n={},o={},a={},i={}.hasOwnProperty,t="components/",s=function(e,n){var o=0;n&&(0===n.indexOf(t)&&(o=t.length),n.indexOf("/",o)>0&&(n=n.substring(o,n.indexOf("/",o))));var i=a[e+"/index.js"]||a[n+"/deps/"+e+"/index.js"];return i?t+i.substring(0,i.length-".js".length):e},l=/^\.\.?(\/|$)/,r=function(e,n){for(var o,a=[],i=(l.test(n)?e+"/"+n:n).split("/"),t=0,s=i.length;s>t;t++)o=i[t],".."===o?a.pop():"."!==o&&""!==o&&a.push(o);return a.join("/")},c=function(e){return e.split("/").slice(0,-1).join("/")},d=function(n){return function(o){var a=r(c(n),o);return e.require(a,n)}},u=function(e,n){var a={id:e,exports:{}};return o[e]=a,n(a.exports,d(e),a),a.exports},f=function(e,a){var t=r(e,".");if(null==a&&(a="/"),t=s(e,a),i.call(o,t))return o[t].exports;if(i.call(n,t))return u(t,n[t]);var l=r(t,"./index");if(i.call(o,l))return o[l].exports;if(i.call(n,l))return u(l,n[l]);throw new Error('Cannot find module "'+e+'" from "'+a+'"')};f.alias=function(e,n){a[n]=e},f.register=f.define=function(e,o){if("object"==typeof e)for(var a in e)i.call(e,a)&&(n[a]=e[a]);else n[e]=o},f.list=function(){var e=[];for(var o in n)i.call(n,o)&&e.push(o);return e},f.brunch=!0,f._cache=o,e.require=f}}(),Parse.initialize("AKSUebdxKe82i1QR4WZZTXpog6pWMo5FEAo3dPk0","Hf6uvBRtwY4se7DKWfqckvFkpN4TktNb9PpKdXc9");var pinsPositions={11:{x:49,y:41.5},12:{x:49,y:53.5},16:{x:49,y:31.5},122:{x:49,y:41.5},21:{x:49,y:18},22:{x:49,y:41},24:{x:49,y:49},241:{x:45,y:31},25:{x:51,y:34},26:{x:45,y:65},27:{x:53,y:65},220:{x:49,y:50},221:{x:49,y:41},222:{x:49,y:41},31:{x:48.5,y:6.2},32:{x:53.5,y:43},33:{x:43,y:57},331:{x:53.5,y:57},34:{x:43,y:41},35:{x:43,y:50},36:{x:43,y:67.5},37:{x:53,y:67.5},38:{x:43,y:44.5},39:{x:43,y:52.7},310:{x:43,y:60.7},311:{x:53.5,y:52},312:{x:54.5,y:60.6},313:{x:54.5,y:63},315:{x:48.5,y:20}};$(window).resize(function(){$.modal.resize(),$(".fullpage-wrapper")[0]&&$.fn.fullpage.reBuild()});var pathname=window.location.pathname,loginUrl="/pages/login.html",registerUrl="/register.html";checkPrivatePage(),enquire.register("screen and (min-width:1280px)",{match:function(){$("#dropdown-selector-cab").hover(function(){$("#dropdown-menu-cab").stop().fadeIn("slow",function(){})},function(){$("#dropdown-menu-cab").stop().fadeOut("slow",function(){})})},unmatch:function(){$("#dropdown-selector-cab").hover(function(){$("#dropdown-menu-cab").stop().fadeIn("slow",function(){})},function(){$("#dropdown-menu-cab").stop().fadeIn("slow",function(){})})}}),enquire.register("screen and (max-width:1280px)",{match:function(){$("#dropdown-selector").hover(function(){$("#dropdown-menu").stop().fadeIn("slow",function(){})},function(){$("#dropdown-menu").stop().fadeOut("slow",function(){})})},unmatch:function(){$("#dropdown-selector").hover(function(){$("#dropdown-menu").stop().fadeIn("slow",function(){})},function(){$("#dropdown-menu").stop().fadeIn("slow",function(){})})}}),enquire.register("screen and (max-width:480px)",{match:function(){console.log("match mobile"),checkPage("mobile")},unmatch:function(){console.log("unmatch mobile"),$(".fullpage-wrapper")[0]&&$.fn.fullpage.destroy("all")}}),enquire.register("screen and (max-width:600px)",{match:function(){console.log("match plan"),$("#sundeck > img").attr("src","../images/tech/64_planimetria/planimetria_sun.jpg"),$("#maindeck > img").attr("src","../images/tech/64_planimetria/planimetria_main.jpg"),$("#lowerdeck > img").attr("src","../images/tech/64_planimetria/planimetria_lower.jpg"),pinsPositions={11:{x:40,y:47.5},12:{x:51,y:47.5},16:{x:49,y:31.5},122:{x:49,y:41.5},21:{x:15,y:47.5},22:{x:39,y:47.7},24:{x:49,y:48},241:{x:29,y:52},25:{x:36,y:45.5},26:{x:68,y:52},27:{x:68,y:43},220:{x:49,y:48},221:{x:39,y:48},222:{x:39,y:48},31:{x:1,y:48},32:{x:41.5,y:42},33:{x:57.5,y:54},331:{x:57.5,y:42},34:{x:40,y:55},35:{x:50,y:55},36:{x:68,y:53.5},37:{x:68,y:43.5},38:{x:52,y:42.5},39:{x:61,y:42.5},310:{x:64,y:42.5},311:{x:43,y:54.7},312:{x:52.5,y:54.7},313:{x:61,y:54.7},315:{x:14.5,y:49}}},unmatch:function(){console.log("unmatch plan"),$("#sundeck > img").attr("src","../images/tech/64_planimetria/planimetria_sun_or.jpg"),$("#maindeck > img").attr("src","../images/tech/64_planimetria/planimetria_main_or.jpg"),$("#lowerdeck > img").attr("src","../images/tech/64_planimetria/planimetria_lower_or.jpg"),pinsPositions={11:{x:49,y:41.5},12:{x:49,y:53.5},16:{x:49,y:31.5},122:{x:49,y:41.5},21:{x:49,y:18},22:{x:49,y:41},24:{x:49,y:49},241:{x:45,y:31},25:{x:51,y:34},26:{x:45,y:65},27:{x:53,y:65},220:{x:49,y:50},221:{x:49,y:41},222:{x:49,y:41},31:{x:48.5,y:6.2},32:{x:53.5,y:43},33:{x:43,y:57},331:{x:53.5,y:57},34:{x:43,y:41},35:{x:43,y:50},36:{x:43,y:67.5},37:{x:53,y:67.5},38:{x:43,y:44.5},39:{x:43,y:52.7},310:{x:43,y:60.7},311:{x:53.5,y:52},312:{x:54.5,y:60.6},313:{x:54.5,y:63},315:{x:48.5,y:20}}}}),enquire.register("screen and (min-width: 480px)",{match:function(){console.log("match web"),checkPage("web")},unmatch:function(){console.log("unmatch web"),$(".fullpage-wrapper")[0]&&$.fn.fullpage.destroy("all")}}),$(document).ready(function(){function e(){var e=$("a#simple-menu");e.addClass("hide"),e.hasClass("show")&&e.removeClass("show");var n=$("div#landing-menu div.center");n.hasClass("hide")||n.addClass("hide"),n.hasClass("show")&&n.removeClass("show")}function n(){var e=$("a#simple-menu");e.addClass("show"),e.hasClass("hide")&&e.removeClass("hide");var n=$("div#landing-menu div.center");n.hasClass("show")||n.addClass("show"),n.hasClass("hide")&&n.removeClass("hide")}preventPrivateSection(),logoutButton(),planSetup(),getPlanPins(),$("#login-form").find(".btn").click(function(e){e.stopPropagation();var n=$("#login-username").val(),o=$("#login-password").val();e.preventDefault(),login(n,o)}),$(".section .slide a.button").click(function(e){e.preventDefault(),e.stopPropagation();var n=$(this).attr("href"),o=n.substring(1,2),a=n.substring(2);console.log(o,a),$.fn.fullpage.moveTo(o,a)}),$("#plan-modal").on($.modal.CLOSE,function(e,n){console.log("Pins cleaned"),cleanPins()}),$("#slider-single").slider({min:0,max:2,step:1,slide:function(e,n){switch(n.value){case 0:$("#filter-yacht").fadeIn(1e3),$("#filter-super-yacht").fadeOut(400),$("#filter-mega-yacht").fadeOut(400);break;case 1:$("#filter-yacht").fadeOut(400),$("#filter-super-yacht").fadeIn(1e3),$("#filter-mega-yacht").fadeOut(400);break;case 2:$("#filter-yacht").fadeOut(400),$("#filter-super-yacht").fadeOut(400),$("#filter-mega-yacht").fadeIn(1e3)}}}),$("#enquire-modal").on($.modal.OPEN,function(e,n){$(".fullpage-wrapper")[0]&&($.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1)),$.sidr("close")}),$("#enquire-modal").on($.modal.CLOSE,function(e,n){$(".fullpage-wrapper")[0]&&($.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0))}),$("#simple-menu").sidr({displace:!0,onOpen:e,onClose:n}),$("a#closeMenu").click(function(e){e.stopPropagation(),e.preventDefault(),$.sidr("close")})});